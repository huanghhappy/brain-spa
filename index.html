<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <title>è§£å£“æ²»ç™‚æ‰€ Brain SPA</title>
    <meta name="description" content="çµ¦å¤§è…¦åšå€‹SPAå§ï¼10å€‹ç™‚ç™’äº’å‹•å°éŠæˆ²ï¼Œé‡‹æ”¾ä½ çš„æ—¥å¸¸å£“åŠ›ã€‚">
    <meta property="og:title" content="è§£å£“æ²»ç™‚æ‰€ Brain SPA">
    <meta property="og:description" content="çµ¦å¤§è…¦åšå€‹SPAå§ï¼10å€‹ç™‚ç™’äº’å‹•å°éŠæˆ²ï¼Œé‡‹æ”¾ä½ çš„æ—¥å¸¸å£“åŠ›ã€‚">
    <meta property="og:image" content="social.png">
    <link rel="apple-touch-icon" href="logo.png">
    <link rel="icon" href="logo.png">

    <style>
        /* çµ±ä¸€ä½¿ç”¨å¯æ„›çš„åœ“é«”å­—å‹èˆ‡ä¹¾æ·¨çš„æ’ç‰ˆ */
        @import url('https://fonts.googleapis.com/css2?family=Varela+Round&family=Noto+Sans+TC:wght@400;700&display=swap');

        :root {
            --bg-color: #FDF6E3; /* æŸ”å’Œç±³è‰²èƒŒæ™¯ */
            --primary: #FFB3BA; /* æŸ”å’Œç²‰ç´… */
            --secondary: #BAE1FF; /* æŸ”å’Œç²‰è— */
            --accent: #FFDFBA; /* æŸ”å’Œç²‰æ©˜ (ç”¨æ–¼æ»‘æ¡¿å¼·èª¿) */
            --text-color: #555555;
            --card-bg: #FFFFFF;
        }

        * {
            box-sizing: border-box;
            font-family: 'Varela Round', 'Noto Sans TC', sans-serif;
            margin: 0;
            padding: 0;
            user-select: none; /* é˜²æ­¢éŠæˆ²ä¸­åç™½æ–‡å­— */
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤æ‰‹æ©Ÿé»æ“Šè—æ¡† */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh; /* ç¢ºä¿ä½”æ»¿å…¨è¢å¹•é«˜åº¦ */
            padding: 20px 15px;
            justify-content: space-between; /* è®“å…§å®¹èˆ‡é å°¾åˆ†é–‹ */
        }

        /* ä¸»ç•«é¢å®¹å™¨ï¼Œè¨­å®š flex: 1 è®“å®ƒä½”æ“šå‰©é¤˜ç©ºé–“ */
        #main-screen-container {
            flex: 1; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* å‚ç›´ç½®ä¸­å…§å®¹ */
            width: 100%;
            max-width: 500px;
        }

        #main-screen {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            font-size: 24px; /* ç¨å¾®ç¸®å°æ¨™é¡Œä»¥é©æ‡‰å–®é  */
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }

        /* æ»‘æ¡¿å€å¡Šæ¨£å¼ */
        .severity-selector {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            text-align: center;
            width: 100%;
        }

        .slider-label-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        #severity-val-display {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
            background: var(--accent);
            padding: 2px 10px;
            border-radius: 10px;
        }

        /* è‡ªè¨‚æ»‘æ¡¿æ¨£å¼ (Webkit/Chrome/Safari) */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: #eee;
            outline: none;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border: 3px solid white;
        }

        /* 5æ¬„ä½ç·Šæ¹Šç¶²æ ¼è¨­å®š */
        .game-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* æ”¹ç‚º5æ¬„ */
            gap: 8px; /* ç¸®å°é–“è· */
            width: 100%;
        }

        .game-btn {
            background-color: var(--card-bg);
            border: none;
            border-radius: 12px;
            padding: 12px 5px; /* å¤§å¹…ç¸®å°å…§è· */
            font-size: 11px; /* ç¸®å°å­—é«” */
            font-weight: bold;
            color: var(--text-color);
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.1s, box-shadow 0.1s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px; /* ç¸®å°åœ–ç¤ºèˆ‡æ–‡å­—é–“è· */
            white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ›è¡Œ */
        }

        .game-btn:active {
            transform: scale(0.92);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .game-btn .icon {
            font-size: 24px; /* ç¸®å°åœ–ç¤º */
        }

        /* é å°¾æ¨£å¼ */
        footer {
            margin-top: 20px;
            font-size: 10px;
            color: #aaaaaa;
            text-align: center;
        }

        /* éŠæˆ²ç•«é¢æ¨£å¼ (ç¶­æŒä¸è®Š) */
        #game-screen {
            display: none; /* åˆå§‹éš±è— */
            flex: 1;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 500px;
            justify-content: center;
            position: relative;
            min-height: 80vh;
        }

        .back-btn {
            position: absolute;
            top: 0;
            left: 0;
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(255, 179, 186, 0.4);
            z-index: 10;
        }

        .game-container {
            width: 100%;
            height: 100%;
            min-height: 60vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            overflow: hidden;
            position: relative;
            margin-top: 40px; /* ç•™ä½å­çµ¦è¿”å›æŒ‰éˆ• */
        }

        /* --- éŠæˆ² CSS ç¶­æŒä¸è®Š --- */
        /* éŠæˆ²ä¸€ï¼šæ­ªåœ–æ‰¶æ­£ */
        #frame-img { width: 200px; transition: transform 0.1s ease-out; cursor: grab; }
        #frame-img.perfect { transform: rotate(0deg) !important; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); pointer-events: none; }
        /* éŠæˆ²äºŒï¼šæ³¡æ³¡ç´™ */
        .bubble-wrap { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; padding: 20px; }
        .bubble { width: 50px; height: 50px; background: radial-gradient(circle at 30% 30%, #ffffff, #BAE1FF); border-radius: 50%; box-shadow: inset 0 -2px 5px rgba(0,0,0,0.1), 0 2px 5px rgba(0,0,0,0.1); cursor: pointer; transition: all 0.1s; }
        .bubble.popped { background: #e0f0ff; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1); transform: scale(0.95); }

    </style>
</head>
<body>

    <div id="main-screen-container">
        <div id="main-screen">
            <h1>ğŸ§  è§£å£“æ²»ç™‚æ‰€ Brain SPA âœ¨</h1>
            
            <div class="severity-selector">
                <div class="slider-label-group">
                    <p>è«‹é¸æ“‡ä½ ç›®å‰çš„å¼·è¿«ç—‡ç™¼ä½œæŒ‡æ•¸</p>
                    <span id="severity-val-display">5</span>
                </div>
                <input type="range" id="severity-slider" min="1" max="10" value="5">
                <div style="display: flex; justify-content: space-between; font-size: 10px; color: #aaa; margin-top: 5px;">
                    <span>1 (å¾®ç„¦æ…®)</span>
                    <span>10 (å¿«çˆ†ç‚¸)</span>
                </div>
            </div>

            <div class="game-grid">
                <button class="game-btn" onclick="startGame('align')">
                    <span class="icon">ğŸ–¼ï¸</span>æ­ªåœ–æ‰¶æ­£
                </button>
                <button class="game-btn" onclick="startGame('bubble')">
                    <span class="icon">ğŸ«§</span>æ“ æ³¡æ³¡ç´™
                </button>
                <button class="game-btn" onclick="alert('é–‹ç™¼ä¸­ï¼')"><span class="icon">ğŸ–ï¸</span>é‰›ç­†å‰Šå¹³</button>
                <button class="game-btn" onclick="alert('é–‹ç™¼ä¸­ï¼')"><span class="icon">ğŸŒˆ</span>é¡è‰²æ’åº</button>
                <button class="game-btn" onclick="alert('é–‹ç™¼ä¸­ï¼')"><span class="icon">ğŸ“¦</span>è²“å’ªæ­¸ä½</button>
                <button class="game-btn" onclick="alert('é–‹ç™¼ä¸­ï¼')"><span class="icon">ğŸ©¹</span>æ’•é™¤æ¨™ç±¤</button>
                <button class="game-btn" onclick="alert('é–‹ç™¼ä¸­ï¼')"><span class="icon">ğŸ§¹</span>æ¡Œå¸ƒé™¤å¡µ</button>
                <button class="game-btn" onclick="alert('é–‹ç™¼ä¸­ï¼')"><span class="icon">ğŸ’¥</span>æ“ ç—˜ç—˜</button>
                <button class="game-btn" onclick="alert('é–‹ç™¼ä¸­ï¼')"><span class="icon">ğŸª†</span>ä¿„ç¾…æ–¯å¥—å¨ƒ</button>
                <button class="game-btn" onclick="alert('é–‹ç™¼ä¸­ï¼')"><span class="icon">ğŸ“„</span>ç¢ç´™æ©Ÿ</button>
            </div>
        </div>

        <div id="game-screen">
            <button class="back-btn" onclick="showMainScreen()">ğŸ”™ è¿”å›</button>
            <div class="game-container" id="game-content">
                </div>
        </div>
    </div>

    <footer>
        Â© 2026 an App a Day Project.
    </footer>

    <script>
        const mainScreenContainer = document.getElementById('main-screen-container');
        const mainScreen = document.getElementById('main-screen');
        const gameScreen = document.getElementById('game-screen');
        const gameContent = document.getElementById('game-content');
        
        // æ»‘æ¡¿æ•¸å€¼é¡¯ç¤ºé‚è¼¯
        const slider = document.getElementById('severity-slider');
        const valDisplay = document.getElementById('severity-val-display');
        slider.addEventListener('input', function() {
            valDisplay.textContent = this.value;
        });

        // åˆ‡æ›ç•«é¢é‚è¼¯
        function startGame(gameId) {
            mainScreen.style.display = 'none';
            gameScreen.style.display = 'flex';
            // åœ¨éŠæˆ²ç•«é¢æ™‚ï¼Œæš«æ™‚éš±è— footer ä»¥ä¾¿å°ˆæ³¨éŠæˆ² (å¯é¸)
            document.querySelector('footer').style.display = 'none';
            gameContent.innerHTML = ''; // æ¸…ç©ºä¸Šä¸€å ´éŠæˆ²

            if (gameId === 'align') {
                initAlignGame();
            } else if (gameId === 'bubble') {
                initBubbleGame();
            }
        }

        function showMainScreen() {
            gameScreen.style.display = 'none';
            mainScreen.style.display = 'flex';
            // è¿”å›ä¸»ç•«é¢æ™‚é¡¯ç¤º footer
            document.querySelector('footer').style.display = 'block';
        }

        // --- éŠæˆ²ä¸€ï¼šæ­ªåœ–æ‰¶æ­£é‚è¼¯ (ç¶­æŒä¸è®Š) ---
        function initAlignGame() {
            let currentAngle = (Math.random() * 30 + 15) * (Math.random() > 0.5 ? 1 : -1);
            gameContent.innerHTML = `
                <div style="text-align: center;">
                    <p style="margin-bottom: 20px; color: var(--text-color);">æ‹–æ›³åœ–ç‰‡ï¼ŒæŠŠå®ƒè½‰æ­£å§ï¼</p>
                    <img id="frame-img" src="frame.png" alt="ç›¸æ¡†" style="transform: rotate(${currentAngle}deg);" draggable="false">
                </div>
            `;
            const img = document.getElementById('frame-img');
            let isDragging = false;
            let startX;

            img.onerror = function() {
                this.outerHTML = `<div id="frame-img" style="width: 200px; height: 150px; background: #FFD1DC; border: 10px solid #FFF; box-shadow: 0 4px 10px rgba(0,0,0,0.1); transform: rotate(${currentAngle}deg); display: flex; justify-content: center; align-items: center; font-size: 40px; border-radius: 10px;">ğŸŒ¸</div>`;
                attachDragEvents(document.getElementById('frame-img'));
            };

            function attachDragEvents(element) {
                element.addEventListener('pointerdown', (e) => {
                    isDragging = true; startX = e.clientX; element.style.cursor = 'grabbing';
                });
                window.addEventListener('pointermove', (e) => {
                    if (!isDragging) return;
                    const dx = e.clientX - startX;
                    currentAngle += dx * 0.2; 
                    startX = e.clientX;
                    element.style.transform = `rotate(${currentAngle}deg)`;
                    if (Math.abs(currentAngle) < 3) {
                        isDragging = false; element.classList.add('perfect');
                        setTimeout(() => alert('âœ¨ å®Œç¾å°é½Šï¼å¥½èˆ’æš¢ï¼'), 400);
                    }
                });
                window.addEventListener('pointerup', () => { isDragging = false; element.style.cursor = 'grab'; });
            }
            attachDragEvents(img);
        }

        // --- éŠæˆ²äºŒï¼šç„¡é™æ“ æ³¡æ³¡ç´™é‚è¼¯ (ç¶­æŒä¸è®Š) ---
        function initBubbleGame() {
            let html = `<div class="bubble-wrap">`;
            for(let i=0; i<20; i++) { html += `<div class="bubble" onclick="popBubble(this)"></div>`; }
            html += `</div>`;
            gameContent.innerHTML = `
                <div style="text-align: center;">
                    <p style="margin-bottom: 20px; color: var(--text-color);">ç›¡æƒ…æçˆ†å®ƒå€‘å§ï¼</p>
                    ${html}
                    <button onclick="startGame('bubble')" style="margin-top:20px; padding:10px 20px; border-radius:15px; border:none; background:var(--primary); color:white; cursor:pointer;">ğŸ”„ æ›ä¸€å¼µæ–°æ³¡æ³¡ç´™</button>
                </div>
            `;
        }
        function popBubble(element) {
            if (!element.classList.contains('popped')) { element.classList.add('popped'); }
        }
    </script>
</body>
</html>